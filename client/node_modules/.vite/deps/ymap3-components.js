import {
  require_react_dom
} from "./chunk-ZRJG7NCB.js";
import {
  require_react
} from "./chunk-2EXEP7CN.js";
import {
  __toESM
} from "./chunk-WXXH56N5.js";

// node_modules/ymap3-components/dist/index.mjs
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var d = (0, import_react.createContext)({});
var w = typeof document < "u" ? import_react.useLayoutEffect : import_react.useEffect;
function o(t, r) {
  let n;
  const l = ({ ...e }, p) => {
    const { reactify: a, ymaps: i } = (0, import_react.useContext)(
      d
    ), [x, m] = (0, import_react.useState)(false);
    return w(() => {
      r ? window[r] ? (m(true), n = a.module(window[r])[t]) : i.import(r).then((u) => {
        window[r] = u, a.module(u) && (m(true), n = a.module(u)[t]);
      }) : (n = a.module(i)[t], m(true));
    }, []), !n || !x ? null : import_react.default.createElement(n, { ref: p, ...e });
  };
  return import_react.default.forwardRef(l);
}
var H = async (t, r = "ru_RU") => new Promise(async (n, l) => {
  if (window.ymaps3) {
    const e = window.ymaps3;
    await e.ready;
    const a = (await e.import("@yandex/ymaps3-reactify")).reactify.bindTo(import_react.default, import_react_dom.default);
    a.module(e), n({
      ymaps: e,
      reactify: a
    });
  } else {
    const e = document.createElement("script");
    document.body.appendChild(e), e.type = "text/javascript", e.src = `https://api-maps.yandex.ru/v3/?apikey=${t}&lang=${r}`, e.onload = async () => {
      const p = window.ymaps3;
      await p.ready;
      const i = (await p.import("@yandex/ymaps3-reactify")).reactify.bindTo(import_react.default, import_react_dom.default);
      n({
        ymaps: p,
        reactify: i
      });
    }, e.onerror = l;
  }
});
var L = ({
  apiKey: t,
  lang: r,
  children: n,
  onLoad: l
}) => {
  const [e, p] = (0, import_react.useState)();
  return w(() => {
    H(t, r).then((a) => {
      p(a), l && l(a);
    });
  }, []), e ? import_react.default.createElement(d.Provider, { value: e }, n) : import_react.default.createElement(import_react.default.Fragment, null);
};
var R = import_react.default.memo(L);
var c = ((t) => (t.CartesianProjection = "@yandex/ymaps3-cartesian-projection@0.0.1", t.Clusterer = "@yandex/ymaps3-clusterer@0.0.1", t.Controls = "@yandex/ymaps3-controls@0.0.1", t.Hint = "@yandex/ymaps3-hint@0.0.1", t.Markers = "@yandex/ymaps3-markers@0.0.1", t.SphericalMercatorProjection = "@yandex/ymaps3-spherical-mercator-projection@0.0.1", t))(c || {});
var S = (0, import_react.createContext)({
  hint: void 0
});
var E = ({
  children: t,
  context: r
}) => {
  const n = (0, import_react.useContext)(r);
  return import_react.default.createElement(S.Provider, { value: n }, t);
};
var T = ({ children: t, hint: r }) => {
  const { reactify: n, ymaps: l } = (0, import_react.useContext)(
    d
  ), [e, p] = (0, import_react.useState)(), a = (0, import_react.useMemo)(() => {
    if (e) {
      const i = window[c.Hint];
      return n.module(i).YMapHint;
    }
  }, [e]);
  return (0, import_react.useEffect)(() => {
    if (window[c.Hint]) {
      const i = window[c.Hint];
      p(n.module(i).YMapHintContext);
    } else
      l.import(c.Hint).then((i) => {
        window[c.Hint] = i, n.module(i) && p(n.module(i).YMapHintContext);
      });
  }, []), !a || !e || !t ? import_react.default.createElement(import_react.default.Fragment, null) : import_react.default.createElement(a, { hint: r }, import_react.default.createElement(E, { context: e }, t));
};
var j = o("YMapGeolocationControl", c.Controls);
var b = o("YMapZoomControl", c.Controls);
var $ = o("YMapClusterer", c.Clusterer);
var B = o("YMapDefaultMarker", c.Markers);
var G = o("YMap");
var I = o("YMapTileDataSource");
var W = o("ThemeContext");
var Z = o("YMapControl");
var O = o("YMapLayer");
var U = o("YMapMarker");
var _ = o("YMapDefaultSchemeLayer");
var q = o("YMapDefaultFeaturesLayer");
var z = o("YMapDefaultSatelliteLayer");
var A = o("YMapListener");
var J = o("YMapControls");
var K = o("YMapControlButton");
var Q = o("YMapContainer");
var V = o("YMapCollection");
var X = o("YMapFeature");
var k = o("YMapFeatureDataSource");
export {
  W as ThemeContext,
  G as YMap,
  $ as YMapClusterer,
  V as YMapCollection,
  R as YMapComponentsProvider,
  Q as YMapContainer,
  Z as YMapControl,
  K as YMapControlButton,
  J as YMapControls,
  q as YMapDefaultFeaturesLayer,
  B as YMapDefaultMarker,
  z as YMapDefaultSatelliteLayer,
  _ as YMapDefaultSchemeLayer,
  X as YMapFeature,
  k as YMapFeatureDataSource,
  j as YMapGeolocationControl,
  T as YMapHint,
  S as YMapHintContext,
  O as YMapLayer,
  A as YMapListener,
  U as YMapMarker,
  I as YMapTileDataSource,
  b as YMapZoomControl
};
//# sourceMappingURL=ymap3-components.js.map
